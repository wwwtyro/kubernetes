repo: https://github.com/kubernetes/kubernetes.git
includes:
  - 'layer:basic'
  - 'layer:snap'
  - 'layer:docker'
  - 'layer:tls-client'
  - 'layer:debug'
  - 'interface:http'
  - 'interface:kubernetes-cni'
  - 'interface:kube-dns'
options:
  basic:
    packages:
      - 'nfs-common'
      - 'ceph-common'
      - 'socat'
  snap:
    kubectl:
      channel: edge
      devmode: false
      jailmode: false
      dangerous: false
      classic: true
    kubelet:
      channel: edge
      devmode: false
      jailmode: false
      dangerous: false
      classic: true
    kube-proxy:
      channel: edge
      devmode: false
      jailmode: false
      dangerous: false
      classic: false
      connect:
        - ["kube-proxy:firewall-control", ":firewall-control"]
        - ["kube-proxy:network-control", ":network-control"]
  tls-client:
    ca_certificate_path: '/srv/kubernetes/ca.crt'
    server_certificate_path: '/srv/kubernetes/server.crt'
    server_key_path: '/srv/kubernetes/server.key'
    client_certificate_path: '/srv/kubernetes/client.crt'
    client_key_path: '/srv/kubernetes/client.key'
